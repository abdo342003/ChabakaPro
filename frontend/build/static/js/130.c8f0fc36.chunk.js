"use strict";(self.webpackChunkchabakapro_frontend=self.webpackChunkchabakapro_frontend||[]).push([[130],{9130:(e,r,a)=>{a.r(r),a.d(r,{default:()=>p});var t=a(9379),l=a(5043),s=a(9570),o=a(6446),i=a(2145),n=a(1009),d=a(5475),c=a(6305),x=a(579);const u=[{value:"particulier",label:"Particulier",color:"bg-blue-500",icon:"\ud83d\udc64"},{value:"entreprise",label:"Entreprise",color:"bg-purple-500",icon:"\ud83c\udfe2"},{value:"pme",label:"PME",color:"bg-green-500",icon:"\ud83c\udfea"},{value:"grand_compte",label:"Grand Compte",color:"bg-orange-500",icon:"\ud83c\udfdb\ufe0f"}],g=e=>{let{isOpen:r,onClose:a,portfolio:i,onSave:d,isLoading:c}=e;const[g,p]=(0,l.useState)({title:"",client:"",sector:"",teamSize:1,challenge:"",solution:[""],results:[""],investment:0,duration:"",category:"particulier",image:"",gallery:[""],featured:!1,published:!0,technologies:[""],testimonial:{name:"",role:"",text:"",rating:5}}),[m,b]=(0,l.useState)(""),[h,y]=(0,l.useState)("general");(0,l.useEffect)(()=>{var e,r,a,l;i?(p((0,t.A)((0,t.A)({},i),{},{solution:null!==(e=i.solution)&&void 0!==e&&e.length?i.solution:[""],results:null!==(r=i.results)&&void 0!==r&&r.length?i.results:[""],gallery:null!==(a=i.gallery)&&void 0!==a&&a.length?i.gallery:[""],technologies:null!==(l=i.technologies)&&void 0!==l&&l.length?i.technologies:[""],testimonial:i.testimonial||{name:"",role:"",text:"",rating:5}})),b(i.image||"")):(p({title:"",client:"",sector:"",teamSize:1,challenge:"",solution:[""],results:[""],investment:0,duration:"",category:"particulier",image:"",gallery:[""],featured:!1,published:!0,technologies:[""],testimonial:{name:"",role:"",text:"",rating:5}}),b(""));y("general")},[i,r]);const f=(e,r,a)=>{p(l=>(0,t.A)((0,t.A)({},l),{},{[e]:l[e].map((e,t)=>t===r?a:e)}))},j=e=>{p(r=>(0,t.A)((0,t.A)({},r),{},{[e]:[...r[e],""]}))},v=(e,r)=>{g[e].length>1&&p(a=>(0,t.A)((0,t.A)({},a),{},{[e]:a[e].filter((e,a)=>a!==r)}))};if(!r)return null;const N=[{id:"general",label:"G\xe9n\xe9ral",icon:n.qYx},{id:"details",label:"D\xe9tails",icon:n.s_k},{id:"media",label:"M\xe9dias",icon:n.fZZ},{id:"testimonial",label:"T\xe9moignage",icon:n.mEP}];return(0,x.jsx)(s.N,{children:(0,x.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:a,children:(0,x.jsxs)(o.P.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,x.jsx)("div",{className:"bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 px-6 py-4",children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,x.jsx)(n.qYx,{className:"w-6 h-6 text-white"})}),(0,x.jsx)("h2",{className:"text-xl font-bold text-white",children:i?"Modifier le projet":"Nouveau projet"})]}),(0,x.jsx)("button",{onClick:a,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,x.jsx)(n.yGN,{className:"w-5 h-5 text-white"})})]})}),(0,x.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 px-6",children:(0,x.jsx)("div",{className:"flex gap-1",children:N.map(e=>(0,x.jsxs)("button",{onClick:()=>y(e.id),className:"flex items-center gap-2 px-4 py-3 font-medium transition-all border-b-2 ".concat(h===e.id?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,x.jsx)(e.icon,{className:"w-4 h-4"}),e.label]},e.id))})}),(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault();const r=(0,t.A)((0,t.A)({},g),{},{solution:g.solution.filter(Boolean),results:g.results.filter(Boolean),gallery:g.gallery.filter(Boolean),technologies:g.technologies.filter(Boolean)});d(r)},className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:["general"===h&&(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,x.jsxs)("div",{className:"space-y-5",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Titre du projet *"}),(0,x.jsx)("input",{type:"text",value:g.title,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{title:e.target.value})),required:!0,maxLength:200,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Installation r\xe9seau complet"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Client *"}),(0,x.jsx)("input",{type:"text",value:g.client,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{client:e.target.value})),required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Nom du client"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Secteur d'activit\xe9"}),(0,x.jsx)("input",{type:"text",value:g.sector,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{sector:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"E-commerce, Sant\xe9, Education..."})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Cat\xe9gorie *"}),(0,x.jsx)("div",{className:"grid grid-cols-2 gap-3",children:u.map(e=>(0,x.jsxs)("button",{type:"button",onClick:()=>p(r=>(0,t.A)((0,t.A)({},r),{},{category:e.value})),className:"flex items-center gap-3 p-3 rounded-xl border-2 transition-all ".concat(g.category===e.value?"border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-600 hover:border-purple-300"),children:[(0,x.jsx)("span",{className:"text-2xl",children:e.icon}),(0,x.jsx)("span",{className:"font-medium ".concat(g.category===e.value?"text-purple-600 dark:text-purple-400":"text-gray-700 dark:text-gray-300"),children:e.label})]},e.value))})]})]}),(0,x.jsxs)("div",{className:"space-y-5",children:[(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[(0,x.jsx)(n.z8N,{className:"inline mr-1"})," Investissement (MAD) *"]}),(0,x.jsx)("input",{type:"number",value:g.investment,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{investment:parseFloat(e.target.value)||0})),required:!0,min:0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[(0,x.jsx)(n.Ohp,{className:"inline mr-1"})," Dur\xe9e"]}),(0,x.jsx)("input",{type:"text",value:g.duration,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{duration:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"2 semaines"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[(0,x.jsx)(n.cfS,{className:"inline mr-1"})," Taille de l'\xe9quipe"]}),(0,x.jsx)("input",{type:"number",value:g.teamSize,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{teamSize:parseInt(e.target.value)||1})),min:1,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Le D\xe9fi *"}),(0,x.jsx)("textarea",{value:g.challenge,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{challenge:e.target.value})),required:!0,maxLength:1e3,rows:4,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",placeholder:"D\xe9crivez le d\xe9fi rencontr\xe9 par le client..."})]}),(0,x.jsxs)("div",{className:"flex gap-6",children:[(0,x.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("input",{type:"checkbox",checked:g.published,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{published:e.target.checked})),className:"sr-only"}),(0,x.jsx)("div",{className:"w-12 h-6 rounded-full transition-colors ".concat(g.published?"bg-purple-500":"bg-gray-300 dark:bg-gray-600"),children:(0,x.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ".concat(g.published?"translate-x-6":"translate-x-0.5"," mt-0.5")})})]}),(0,x.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[g.published?(0,x.jsx)(n.Vap,{className:"inline mr-1"}):(0,x.jsx)(n._NO,{className:"inline mr-1"}),"Publi\xe9"]})]}),(0,x.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("input",{type:"checkbox",checked:g.featured,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{featured:e.target.checked})),className:"sr-only"}),(0,x.jsx)("div",{className:"w-12 h-6 rounded-full transition-colors ".concat(g.featured?"bg-amber-500":"bg-gray-300 dark:bg-gray-600"),children:(0,x.jsx)("div",{className:"w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ".concat(g.featured?"translate-x-6":"translate-x-0.5"," mt-0.5")})})]}),(0,x.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,x.jsx)(n.usP,{className:"inline mr-1"}),"En vedette"]})]})]})]})]}),"details"===h&&(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Solutions apport\xe9es"}),(0,x.jsxs)("div",{className:"space-y-3",children:[g.solution.map((e,r)=>(0,x.jsxs)("div",{className:"flex gap-2",children:[(0,x.jsx)("input",{type:"text",value:e,onChange:e=>f("solution",r,e.target.value),className:"flex-1 px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Solution ".concat(r+1)}),(0,x.jsx)("button",{type:"button",onClick:()=>v("solution",r),className:"p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-xl transition-colors",children:(0,x.jsx)(n.yGN,{className:"w-5 h-5"})})]},r)),(0,x.jsxs)("button",{type:"button",onClick:()=>j("solution"),className:"flex items-center gap-2 px-4 py-2 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-xl transition-colors",children:[(0,x.jsx)(n.GGD,{className:"w-4 h-4"})," Ajouter une solution"]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"R\xe9sultats obtenus"}),(0,x.jsxs)("div",{className:"space-y-3",children:[g.results.map((e,r)=>(0,x.jsxs)("div",{className:"flex gap-2",children:[(0,x.jsx)("input",{type:"text",value:e,onChange:e=>f("results",r,e.target.value),className:"flex-1 px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"R\xe9sultat ".concat(r+1)}),(0,x.jsx)("button",{type:"button",onClick:()=>v("results",r),className:"p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-xl transition-colors",children:(0,x.jsx)(n.yGN,{className:"w-5 h-5"})})]},r)),(0,x.jsxs)("button",{type:"button",onClick:()=>j("results"),className:"flex items-center gap-2 px-4 py-2 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-xl transition-colors",children:[(0,x.jsx)(n.GGD,{className:"w-4 h-4"})," Ajouter un r\xe9sultat"]})]})]}),(0,x.jsxs)("div",{className:"lg:col-span-2",children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Technologies utilis\xe9es"}),(0,x.jsxs)("div",{className:"flex flex-wrap gap-3",children:[g.technologies.map((e,r)=>(0,x.jsxs)("div",{className:"flex items-center gap-2 bg-purple-50 dark:bg-purple-900/30 rounded-full px-3 py-1",children:[(0,x.jsx)("input",{type:"text",value:e,onChange:e=>f("technologies",r,e.target.value),className:"bg-transparent border-none focus:ring-0 text-sm text-purple-600 dark:text-purple-400 w-24",placeholder:"Tech"}),(0,x.jsx)("button",{type:"button",onClick:()=>v("technologies",r),className:"text-purple-400 hover:text-red-500",children:(0,x.jsx)(n.yGN,{className:"w-4 h-4"})})]},r)),(0,x.jsxs)("button",{type:"button",onClick:()=>j("technologies"),className:"flex items-center gap-1 px-3 py-1 text-purple-600 dark:text-purple-400 border-2 border-dashed border-purple-300 dark:border-purple-600 rounded-full hover:bg-purple-50 dark:hover:bg-purple-900/30 transition-colors",children:[(0,x.jsx)(n.GGD,{className:"w-4 h-4"})," Tech"]})]})]})]}),"media"===h&&(0,x.jsxs)("div",{className:"space-y-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[(0,x.jsx)(n.fZZ,{className:"inline mr-1"})," Image principale"]}),(0,x.jsx)("input",{type:"url",value:g.image,onChange:e=>{const r=e.target.value;p(e=>(0,t.A)((0,t.A)({},e),{},{image:r})),b(r)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"https://example.com/image.jpg"}),m&&(0,x.jsxs)("div",{className:"mt-3 relative rounded-xl overflow-hidden border border-gray-200 dark:border-gray-600 max-w-md",children:[(0,x.jsx)("img",{src:m,alt:"Preview",className:"w-full h-48 object-cover",onError:()=>b("")}),(0,x.jsx)("div",{className:"absolute top-2 right-2",children:(0,x.jsx)("span",{className:"px-2 py-1 bg-black/50 text-white text-xs rounded-lg",children:"Aper\xe7u"})})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Galerie d'images"}),(0,x.jsxs)("div",{className:"space-y-3",children:[g.gallery.map((e,r)=>(0,x.jsxs)("div",{className:"flex gap-2",children:[(0,x.jsx)("input",{type:"url",value:e,onChange:e=>f("gallery",r,e.target.value),className:"flex-1 px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"URL de l'image"}),e&&(0,x.jsx)("div",{className:"w-12 h-12 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600",children:(0,x.jsx)("img",{src:e,alt:"",className:"w-full h-full object-cover",onError:e=>e.target.style.display="none"})}),(0,x.jsx)("button",{type:"button",onClick:()=>v("gallery",r),className:"p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-xl transition-colors",children:(0,x.jsx)(n.yGN,{className:"w-5 h-5"})})]},r)),(0,x.jsxs)("button",{type:"button",onClick:()=>j("gallery"),className:"flex items-center gap-2 px-4 py-2 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-xl transition-colors",children:[(0,x.jsx)(n.GGD,{className:"w-4 h-4"})," Ajouter une image"]})]})]})]}),"testimonial"===h&&(0,x.jsxs)("div",{className:"max-w-2xl mx-auto space-y-5",children:[(0,x.jsxs)("div",{className:"text-center mb-8",children:[(0,x.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-fuchsia-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,x.jsx)(n.mEP,{className:"w-8 h-8 text-white"})}),(0,x.jsx)("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"T\xe9moignage Client"}),(0,x.jsx)("p",{className:"text-gray-500",children:"Ajoutez le retour de votre client sur ce projet"})]}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nom"}),(0,x.jsx)("input",{type:"text",value:g.testimonial.name,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{testimonial:(0,t.A)((0,t.A)({},r.testimonial),{},{name:e.target.value})})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Jean Dupont"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"R\xf4le / Fonction"}),(0,x.jsx)("input",{type:"text",value:g.testimonial.role,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{testimonial:(0,t.A)((0,t.A)({},r.testimonial),{},{role:e.target.value})})),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Directeur Technique"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"T\xe9moignage"}),(0,x.jsx)("textarea",{value:g.testimonial.text,onChange:e=>p(r=>(0,t.A)((0,t.A)({},r),{},{testimonial:(0,t.A)((0,t.A)({},r.testimonial),{},{text:e.target.value})})),rows:4,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",placeholder:"Ce que le client a dit sur votre travail..."})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Note ",(0,x.jsxs)("span",{className:"text-gray-400 font-normal",children:["(",g.testimonial.rating,"/5)"]})]}),(0,x.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(e=>(0,x.jsx)("button",{type:"button",onClick:()=>p(r=>(0,t.A)((0,t.A)({},r),{},{testimonial:(0,t.A)((0,t.A)({},r.testimonial),{},{rating:e})})),className:"p-2 rounded-lg transition-colors ".concat(e<=g.testimonial.rating?"text-amber-400":"text-gray-300 dark:text-gray-600"),children:(0,x.jsx)(n.usP,{className:"w-8 h-8 fill-current"})},e))})]})]}),(0,x.jsxs)("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,x.jsx)("button",{type:"button",onClick:a,className:"px-6 py-3 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Annuler"}),(0,x.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-violet-500 to-purple-500 text-white font-semibold hover:from-violet-600 hover:to-purple-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:c?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Enregistrement..."]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.Bc_,{className:"w-5 h-5"}),i?"Mettre \xe0 jour":"Cr\xe9er le projet"]})})]})]})]})})})},p=()=>{const[e,r]=(0,l.useState)([]),[a,t]=(0,l.useState)(!0),[p,m]=(0,l.useState)(!1),[b,h]=(0,l.useState)(!1),[y,f]=(0,l.useState)(null),[j,v]=(0,l.useState)(""),[N,k]=(0,l.useState)(""),w=(0,l.useCallback)(async()=>{try{t(!0);const e={published:"all",limit:100};N&&(e.category=N);const a=await c.A.get("/portfolio",{params:e});r(a.data||[])}catch(e){i.oR.error("Erreur lors du chargement des projets"),console.error(e)}finally{t(!1)}},[N]);(0,l.useEffect)(()=>{w()},[w]);const A=()=>{f(null),h(!0)},C=e.filter(e=>{var r;return e.title.toLowerCase().includes(j.toLowerCase())||(null===(r=e.client)||void 0===r?void 0:r.toLowerCase().includes(j.toLowerCase()))}),P=e.reduce((e,r)=>e+(r.investment||0),0);return(0,x.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,x.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600",children:[(0,x.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,x.jsxs)("div",{className:"absolute inset-0",children:[(0,x.jsx)("div",{className:"absolute top-10 left-10 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-pulse"}),(0,x.jsx)("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-fuchsia-400/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,x.jsxs)("div",{className:"relative container mx-auto px-4 py-12",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)(d.N_,{to:"/admin-dashboard-chabakapro",className:"inline-flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors",children:[(0,x.jsx)(n.kRp,{})," Retour au dashboard"]}),(0,x.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-3",children:"Gestion Portfolio"}),(0,x.jsx)("p",{className:"text-purple-100 text-lg",children:"G\xe9rez vos projets et cas clients"})]}),(0,x.jsxs)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,className:"flex items-center gap-2 px-6 py-3 bg-white text-purple-600 font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all",children:[(0,x.jsx)(n.GGD,{className:"w-5 h-5"}),"Nouveau Projet"]})]}),(0,x.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[{label:"Total Projets",value:e.length,icon:n.qYx},{label:"Publi\xe9s",value:e.filter(e=>e.published).length,icon:n.Vap},{label:"En Vedette",value:e.filter(e=>e.featured).length,icon:n.usP},{label:"Investissement",value:"".concat((P/1e3).toFixed(0),"K MAD"),icon:n.z8N}].map((e,r)=>(0,x.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[(0,x.jsx)(e.icon,{className:"w-6 h-6 text-white/80 mb-2"}),(0,x.jsx)("div",{className:"text-2xl font-bold text-white",children:e.value}),(0,x.jsx)("div",{className:"text-sm text-white/70",children:e.label})]},r))})]})]}),(0,x.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,x.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-8",children:(0,x.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,x.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)(n.CKj,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),(0,x.jsx)("input",{type:"text",value:j,onChange:e=>v(e.target.value),placeholder:"Rechercher un projet...",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]})}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(n.K7R,{className:"text-gray-400"}),(0,x.jsxs)("select",{value:N,onChange:e=>k(e.target.value),className:"px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:[(0,x.jsx)("option",{value:"",children:"Toutes cat\xe9gories"}),u.map(e=>(0,x.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]})}),a?(0,x.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,x.jsx)("div",{className:"w-12 h-12 border-4 border-purple-200 border-t-purple-500 rounded-full animate-spin"})}):0===C.length?(0,x.jsxs)("div",{className:"text-center py-20",children:[(0,x.jsx)(n.qYx,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,x.jsx)("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Aucun projet trouv\xe9"}),(0,x.jsx)("p",{className:"text-gray-500 mb-6",children:"Commencez par cr\xe9er votre premier projet"}),(0,x.jsxs)("button",{onClick:A,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-violet-500 to-purple-500 text-white font-semibold rounded-xl hover:from-violet-600 hover:to-purple-600 transition-all",children:[(0,x.jsx)(n.GGD,{})," Cr\xe9er un projet"]})]}):(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,x.jsx)(s.N,{children:C.map((e,r)=>{var a,t,l;const s=(d=e.category,u.find(e=>e.value===d)||u[0]);var d;return(0,x.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:.05*r},className:"group bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[(0,x.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,x.jsx)("img",{src:e.image||"/images/portfolio/default.jpg",alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),(0,x.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),(0,x.jsxs)("div",{className:"absolute top-3 left-3 flex gap-2",children:[(0,x.jsxs)("span",{className:"px-3 py-1 ".concat(s.color," text-white text-xs font-semibold rounded-full flex items-center gap-1"),children:[(0,x.jsx)("span",{children:s.icon})," ",s.label]}),e.featured&&(0,x.jsxs)("span",{className:"px-3 py-1 bg-amber-500 text-white text-xs font-semibold rounded-full flex items-center gap-1",children:[(0,x.jsx)(n.usP,{className:"w-3 h-3"})," Vedette"]})]}),(0,x.jsx)("div",{className:"absolute top-3 right-3",children:(0,x.jsxs)("span",{className:"px-3 py-1 ".concat(e.published?"bg-emerald-500":"bg-gray-500"," text-white text-xs font-semibold rounded-full flex items-center gap-1"),children:[e.published?(0,x.jsx)(n.Vap,{className:"w-3 h-3"}):(0,x.jsx)(n._NO,{className:"w-3 h-3"}),e.published?"Publi\xe9":"Brouillon"]})}),(0,x.jsx)("div",{className:"absolute bottom-3 right-3",children:(0,x.jsxs)("span",{className:"px-3 py-1 bg-white/90 dark:bg-gray-800/90 text-gray-800 dark:text-white text-sm font-bold rounded-full",children:[null===(a=e.investment)||void 0===a?void 0:a.toLocaleString()," MAD"]})})]}),(0,x.jsxs)("div",{className:"p-5",children:[(0,x.jsx)("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-1 line-clamp-1 group-hover:text-purple-600 transition-colors",children:e.title}),(0,x.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:[e.client," ",e.sector&&"\u2022 ".concat(e.sector)]}),(0,x.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2 mb-4",children:e.challenge}),(null===(t=e.technologies)||void 0===t?void 0:t.length)>0&&(0,x.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.technologies.slice(0,3).map((e,r)=>(0,x.jsx)("span",{className:"px-2 py-1 bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 text-xs rounded-full",children:e},r)),e.technologies.length>3&&(0,x.jsxs)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-500 text-xs rounded-full",children:["+",e.technologies.length-3]})]}),(null===(l=e.testimonial)||void 0===l?void 0:l.text)&&(0,x.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-xs text-gray-500",children:[(0,x.jsx)(n.mEP,{className:"w-4 h-4"}),(0,x.jsx)("span",{children:"T\xe9moignage disponible"}),e.testimonial.rating&&(0,x.jsxs)("span",{className:"flex items-center gap-1 text-amber-500",children:[(0,x.jsx)(n.usP,{className:"w-3 h-3 fill-current"}),e.testimonial.rating]})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-100 dark:border-gray-700",children:[(0,x.jsxs)("button",{onClick:()=>(e=>{f(e),h(!0)})(e),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 font-medium rounded-xl hover:bg-purple-100 dark:hover:bg-purple-900/50 transition-colors",children:[(0,x.jsx)(n.WXf,{className:"w-4 h-4"}),"Modifier"]}),(0,x.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce projet?"))try{await c.A.delete("/portfolio/".concat(e)),i.oR.success("Projet supprim\xe9 avec succ\xe8s!"),w()}catch(r){i.oR.error("Erreur lors de la suppression")}})(e._id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-xl transition-colors",children:(0,x.jsx)(n.IXo,{className:"w-5 h-5"})})]})]})]},e._id)})})})]}),(0,x.jsx)(g,{isOpen:b,onClose:()=>{h(!1),f(null)},portfolio:y,onSave:async e=>{try{m(!0),null!==y&&void 0!==y&&y._id?(await c.A.put("/portfolio/".concat(y._id),e),i.oR.success("Projet mis \xe0 jour avec succ\xe8s!")):(await c.A.post("/portfolio",e),i.oR.success("Projet cr\xe9\xe9 avec succ\xe8s!")),h(!1),f(null),w()}catch(r){i.oR.error(r.message||"Erreur lors de l'enregistrement")}finally{m(!1)}},isLoading:p})]})}}}]);
//# sourceMappingURL=130.c8f0fc36.chunk.js.map