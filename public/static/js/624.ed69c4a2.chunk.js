"use strict";(self.webpackChunkchabakapro_frontend=self.webpackChunkchabakapro_frontend||[]).push([[624],{2624:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(9379),i=s(5043),l=s(9570),r=s(6446),n=s(5475),d=s(1009),c=s(6305),o=s(7650),x=s(579);const h=()=>{const[e,t]=(0,i.useState)(!1),[s,h]=(0,i.useState)(""),[m,p]=(0,i.useState)(""),[u,b]=(0,i.useState)(!1),[v,g]=(0,i.useState)({blogs:{total:0,published:0,featured:0},portfolios:{total:0,published:0,featured:0,totalInvestment:0},contacts:{total:0,new:0,responded:0},devis:{total:0,pending:0,approved:0},testimonials:{total:0,verified:0,avgRating:0},visitors:{total:0,today:0,pageViews:0}}),[j,w]=(0,i.useState)([]),[N,f]=(0,i.useState)([]),[y,k]=(0,i.useState)([]),[A,P]=(0,i.useState)([]),[V,S]=(0,i.useState)(null),[D,C]=(0,i.useState)(!0),[R,_]=(0,i.useState)(!1),[z,E]=(0,i.useState)("dashboard");(0,i.useEffect)(()=>{"true"===sessionStorage.getItem("adminAuthenticated")&&t(!0)},[]);const T=e=>{e.preventDefault(),"ChabakaPro2025!"===s?(t(!0),sessionStorage.setItem("adminAuthenticated","true"),p("")):(p("Mot de passe incorrect"),h(""))};(0,i.useEffect)(()=>{e&&G()},[e]);const G=async()=>{try{C(!0);const[t,s,i,l,r]=await Promise.all([c.A.get("/blog",{params:{published:"all",limit:1e3}}).catch(e=>(console.log("Blog error:",e),{data:[]})),c.A.get("/portfolio",{params:{published:"all",limit:1e3}}).catch(e=>(console.log("Portfolio error:",e),{data:[]})),c.A.get("/contact",{params:{limit:100}}).catch(e=>(console.log("Contact error:",e),{data:[]})),c.A.get("/devis",{params:{limit:100}}).catch(e=>(console.log("Devis error:",e),{data:[]})),c.A.get("/testimonials",{params:{published:"all",limit:100}}).catch(e=>(console.log("Testimonials error:",e),{data:[]}))]);console.log("API Responses:",{blogsRes:t,portfoliosRes:s,contactsRes:i,devisRes:l,testimonialsRes:r});const n=(null===t||void 0===t?void 0:t.data)||t||[],d=(null===s||void 0===s?void 0:s.data)||s||[],x=(null===i||void 0===i?void 0:i.data)||i||[],h=(null===l||void 0===l?void 0:l.data)||l||[],m=(null===r||void 0===r?void 0:r.data)||r||[];console.log("Extracted data:",{blogs:n,portfolios:d,contacts:x,devis:h,testimonials:m}),g({blogs:{total:n.length,published:n.filter(e=>e.published).length,featured:n.filter(e=>e.featured).length},portfolios:{total:d.length,published:d.filter(e=>e.published).length,featured:d.filter(e=>e.featured).length,totalInvestment:d.reduce((e,t)=>e+(t.investment||0),0)},contacts:{total:x.length,new:x.filter(e=>"nouveau"===e.status||"new"===e.status).length,responded:x.filter(e=>"traite"===e.status||"responded"===e.status).length},devis:{total:h.length,pending:h.filter(e=>"nouveau"===e.status||"pending"===e.status||"en_attente"===e.status).length,approved:h.filter(e=>"accepte"===e.status||"approved"===e.status).length},testimonials:{total:m.length,verified:m.filter(e=>e.verified).length,avgRating:m.length>0?(m.reduce((e,t)=>e+(t.rating||5),0)/m.length).toFixed(1):5},visitors:{total:0,today:0,pageViews:0}}),w(x.slice(0,10)),f(h.slice(0,10)),k(m.slice(0,10));try{const e=await(0,o.WT)(30),t=await(0,o.qU)({limit:50});null!==e&&void 0!==e&&e.data&&(S(e.data),g(t=>(0,a.A)((0,a.A)({},t),{},{visitors:{total:e.data.totalVisitors||0,today:e.data.todayVisitors||0,pageViews:e.data.totalPageViews||0}}))),null!==t&&void 0!==t&&t.data&&P(t.data)}catch(e){console.log("Visitor stats not available:",e)}}catch(t){console.error("Error fetching data:",t)}finally{C(!1)}},F=async(e,t)=>{try{await c.A.patch("/devis/".concat(e),{status:t}),G()}catch(s){console.error("Error updating devis:",s)}};if(!e)return(0,x.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:[(0,x.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,x.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl animate-pulse"}),(0,x.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,x.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative z-10 w-full max-w-md",children:(0,x.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:[(0,x.jsxs)("div",{className:"text-center mb-8",children:[(0,x.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,x.jsx)(d.F5$,{className:"w-10 h-10 text-white"})}),(0,x.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Administration"}),(0,x.jsx)("p",{className:"text-white/60",children:"ChabakaPro - Tableau de bord"})]}),(0,x.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-white/70 text-sm font-medium mb-2",children:"Mot de passe"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("input",{type:u?"text":"password",value:s,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/20 transition-all",placeholder:"Entrez le mot de passe admin",autoFocus:!0}),(0,x.jsx)("button",{type:"button",onClick:()=>b(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/50 hover:text-white",children:(0,x.jsx)(d.Vap,{className:"w-5 h-5"})})]}),m&&(0,x.jsxs)(r.P.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-red-400 text-sm flex items-center gap-2",children:[(0,x.jsx)(d.y3G,{})," ",m]})]}),(0,x.jsx)("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-600 transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:"Acc\xe9der au Dashboard"})]}),(0,x.jsx)("div",{className:"mt-6 text-center",children:(0,x.jsxs)(n.N_,{to:"/",className:"text-white/50 hover:text-white text-sm transition-colors inline-flex items-center gap-2",children:[(0,x.jsx)(d.V5Y,{})," Retour au site"]})})]})})]});const I=[{label:"Articles Blog",value:v.blogs.total,icon:d.D1A,color:"bg-emerald-500",change:"".concat(v.blogs.published," publi\xe9s")},{label:"Projets Portfolio",value:v.portfolios.total,icon:d.qYx,color:"bg-purple-500",change:"".concat(v.portfolios.published," publi\xe9s")},{label:"Messages Contact",value:v.contacts.total,icon:d.pHD,color:"bg-blue-500",change:"".concat(v.contacts.new," nouveaux")},{label:"Demandes Devis",value:v.devis.total,icon:d.mEP,color:"bg-orange-500",change:"".concat(v.devis.pending," en attente")},{label:"T\xe9moignages",value:v.testimonials.total,icon:d.usP,color:"bg-amber-500",change:"\u2605 ".concat(v.testimonials.avgRating," moyenne")},{label:"Investissement Total",value:"".concat(((v.portfolios.totalInvestment||0)/1e3).toFixed(0),"K"),icon:d.ARf,color:"bg-cyan-500",change:"MAD"}],q=[{title:"Gestion du Blog",description:"Cr\xe9er et g\xe9rer vos articles",icon:d.D1A,link:"/admin/blog",color:"from-emerald-500 to-teal-500",stats:[{label:"Total",value:v.blogs.total},{label:"Publi\xe9s",value:v.blogs.published}]},{title:"Gestion Portfolio",description:"G\xe9rer vos projets clients",icon:d.qYx,link:"/admin/portfolio",color:"from-violet-500 to-purple-500",stats:[{label:"Projets",value:v.portfolios.total},{label:"Publi\xe9s",value:v.portfolios.published}]}],H=e=>({nouveau:"bg-blue-500",new:"bg-blue-500",en_cours:"bg-yellow-500",pending:"bg-yellow-500",en_attente:"bg-yellow-500",traite:"bg-green-500",responded:"bg-green-500",accepte:"bg-green-500",approved:"bg-green-500",refuse:"bg-red-500",rejected:"bg-red-500"}[e]||"bg-gray-500"),M=e=>({nouveau:"Nouveau",new:"Nouveau",en_cours:"En cours",pending:"En attente",en_attente:"En attente",traite:"Trait\xe9",responded:"R\xe9pondu",accepte:"Accept\xe9",approved:"Approuv\xe9",refuse:"Refus\xe9",rejected:"Rejet\xe9"}[e]||e);return(0,x.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[(0,x.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,x.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl animate-pulse"}),(0,x.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),(0,x.jsx)("div",{className:"absolute top-1/2 left-1/2 w-72 h-72 bg-blue-500/10 rounded-full blur-3xl animate-pulse delay-500"})]}),(0,x.jsx)("header",{className:"relative z-10 border-b border-white/10 bg-black/20 backdrop-blur-xl sticky top-0",children:(0,x.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex items-center gap-4",children:[(0,x.jsx)("button",{onClick:()=>_(!R),className:"lg:hidden p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:R?(0,x.jsx)(d.yGN,{className:"w-6 h-6"}):(0,x.jsx)(d.ND1,{className:"w-6 h-6"})}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("h1",{className:"text-2xl font-bold text-white",children:["ChabakaPro ",(0,x.jsx)("span",{className:"text-emerald-400",children:"Admin"})]}),(0,x.jsx)("p",{className:"text-sm text-white/60",children:"Tableau de bord d'administration"})]})]}),(0,x.jsxs)("div",{className:"flex items-center gap-4",children:[(0,x.jsx)("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Rafra\xeechir",children:(0,x.jsx)(d.jTZ,{className:"w-5 h-5 ".concat(D?"animate-spin":"")})}),(0,x.jsxs)(n.N_,{to:"/",className:"flex items-center gap-2 px-4 py-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:[(0,x.jsx)(d.V5Y,{className:"w-5 h-5"}),(0,x.jsx)("span",{className:"hidden sm:inline",children:"Site Public"})]}),(0,x.jsxs)("button",{onClick:()=>{t(!1),sessionStorage.removeItem("adminAuthenticated"),h("")},className:"flex items-center gap-2 px-4 py-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",children:[(0,x.jsx)(d.QeK,{className:"w-5 h-5"}),(0,x.jsx)("span",{className:"hidden sm:inline",children:"D\xe9connexion"})]})]})]})})}),(0,x.jsx)("div",{className:"relative z-10 border-b border-white/10 bg-black/10 backdrop-blur-sm",children:(0,x.jsx)("div",{className:"container mx-auto px-4",children:(0,x.jsx)("div",{className:"flex gap-1 overflow-x-auto py-2",children:[{id:"dashboard",label:"Dashboard",icon:d.z1n},{id:"visitors",label:"Visiteurs",icon:d.cfS,badge:v.visitors.today},{id:"contacts",label:"Contacts",icon:d.pHD,badge:v.contacts.new},{id:"devis",label:"Devis",icon:d.mEP,badge:v.devis.pending},{id:"testimonials",label:"T\xe9moignages",icon:d.usP}].map(e=>(0,x.jsxs)("button",{onClick:()=>E(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ".concat(z===e.id?"bg-emerald-500 text-white":"text-white/60 hover:text-white hover:bg-white/10"),children:[(0,x.jsx)(e.icon,{className:"w-4 h-4"}),e.label,e.badge>0&&(0,x.jsx)("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs rounded-full",children:e.badge})]},e.id))})})}),(0,x.jsx)("main",{className:"relative z-10 container mx-auto px-4 py-8",children:(0,x.jsxs)(l.N,{mode:"wait",children:["dashboard"===z&&(0,x.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,x.jsxs)("div",{className:"mb-8",children:[(0,x.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Bienvenue sur votre Dashboard \ud83d\udc4b"}),(0,x.jsx)("p",{className:"text-white/60",children:"G\xe9rez votre contenu, contacts et demandes de devis"})]}),(0,x.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-8",children:I.map((e,t)=>(0,x.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-5 hover:bg-white/10 transition-all group",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,x.jsx)("div",{className:"p-3 ".concat(e.color," rounded-xl group-hover:scale-110 transition-transform"),children:(0,x.jsx)(e.icon,{className:"w-5 h-5 text-white"})}),(0,x.jsx)(d.z1n,{className:"w-5 h-5 text-white/30"})]}),(0,x.jsx)("div",{className:"text-2xl font-bold text-white mb-1",children:e.value}),(0,x.jsx)("div",{className:"text-sm text-white/60",children:e.label}),(0,x.jsx)("div",{className:"text-xs text-emerald-400 mt-1",children:e.change})]},e.label))}),(0,x.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Gestion du Contenu"}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:q.map((e,t)=>(0,x.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+.1*t},children:(0,x.jsxs)(n.N_,{to:e.link,className:"block bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-all group",children:[(0,x.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,x.jsx)("div",{className:"p-4 bg-gradient-to-br ".concat(e.color," rounded-2xl group-hover:scale-110 transition-transform"),children:(0,x.jsx)(e.icon,{className:"w-8 h-8 text-white"})}),(0,x.jsx)("div",{className:"flex gap-2",children:e.stats.map((e,t)=>(0,x.jsxs)("div",{className:"text-center px-3 py-1 bg-white/5 rounded-lg",children:[(0,x.jsx)("div",{className:"text-lg font-bold text-white",children:e.value}),(0,x.jsx)("div",{className:"text-xs text-white/50",children:e.label})]},t))})]}),(0,x.jsx)("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-emerald-400 transition-colors",children:e.title}),(0,x.jsx)("p",{className:"text-white/60 mb-4",children:e.description}),(0,x.jsxs)("div",{className:"flex items-center text-emerald-400 font-medium group-hover:gap-3 transition-all gap-2",children:[(0,x.jsx)("span",{children:"Acc\xe9der"}),(0,x.jsx)("span",{className:"group-hover:translate-x-1 transition-transform",children:"\u2192"})]})]})},e.title))}),(0,x.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Actions Rapides"}),(0,x.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Nouvel Article",icon:d.D1A,link:"/admin/blog",color:"text-emerald-400"},{label:"Nouveau Projet",icon:d.qYx,link:"/admin/portfolio",color:"text-purple-400"},{label:"Voir le Blog",icon:d.Vap,link:"/blog",color:"text-blue-400"},{label:"Voir Portfolio",icon:d.Vap,link:"/portfolio",color:"text-amber-400"}].map((e,t)=>(0,x.jsx)(r.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+.1*t},children:(0,x.jsxs)(n.N_,{to:e.link,className:"flex flex-col items-center justify-center gap-3 p-6 bg-white/5 border border-white/10 rounded-2xl hover:bg-white/10 transition-all group",children:[(0,x.jsx)(e.icon,{className:"w-8 h-8 ".concat(e.color," group-hover:scale-110 transition-transform")}),(0,x.jsx)("span",{className:"text-sm font-medium text-white/80 group-hover:text-white text-center",children:e.label})]})},e.label))})]},"dashboard"),"visitors"===z&&(0,x.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Analytiques Visiteurs"}),(0,x.jsx)("p",{className:"text-white/60",children:"Suivez les visiteurs de votre site en temps r\xe9el"})]}),(0,x.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,x.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-5",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,x.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,x.jsx)(d.cfS,{className:"w-5 h-5 text-blue-400"})}),(0,x.jsx)("span",{className:"text-white/60 text-sm",children:"Total Visiteurs"})]}),(0,x.jsx)("div",{className:"text-3xl font-bold text-white",children:(null===V||void 0===V?void 0:V.totalVisitors)||0}),(0,x.jsx)("div",{className:"text-xs text-white/40 mt-1",children:"30 derniers jours"})]}),(0,x.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-5",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,x.jsx)("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:(0,x.jsx)(d.ARf,{className:"w-5 h-5 text-emerald-400"})}),(0,x.jsx)("span",{className:"text-white/60 text-sm",children:"Aujourd'hui"})]}),(0,x.jsx)("div",{className:"text-3xl font-bold text-white",children:(null===V||void 0===V?void 0:V.todayVisitors)||0}),(0,x.jsx)("div",{className:"text-xs text-emerald-400 mt-1",children:"visiteurs actifs"})]}),(0,x.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-5",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,x.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,x.jsx)(d.Vap,{className:"w-5 h-5 text-purple-400"})}),(0,x.jsx)("span",{className:"text-white/60 text-sm",children:"Pages Vues"})]}),(0,x.jsx)("div",{className:"text-3xl font-bold text-white",children:(null===V||void 0===V?void 0:V.totalPageViews)||0}),(0,x.jsx)("div",{className:"text-xs text-white/40 mt-1",children:"total des vues"})]}),(0,x.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-5",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,x.jsx)("div",{className:"p-2 bg-amber-500/20 rounded-lg",children:(0,x.jsx)(d.jTZ,{className:"w-5 h-5 text-amber-400"})}),(0,x.jsx)("span",{className:"text-white/60 text-sm",children:"Retours"})]}),(0,x.jsx)("div",{className:"text-3xl font-bold text-white",children:(null===V||void 0===V?void 0:V.returningVisitors)||0}),(0,x.jsx)("div",{className:"text-xs text-white/40 mt-1",children:"visiteurs fid\xe8les"})]})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,x.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,x.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,x.jsx)(d.ufi,{className:"w-5 h-5 text-cyan-400"}),"Appareils"]}),(0,x.jsxs)("div",{className:"space-y-3",children:[Object.entries((null===V||void 0===V?void 0:V.deviceStats)||{}).map(e=>{let[t,s]=e;return(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:["mobile"===t&&(0,x.jsx)(d.PCV,{className:"w-4 h-4 text-white/60"}),"desktop"===t&&(0,x.jsx)(d.ufi,{className:"w-4 h-4 text-white/60"}),"tablet"===t&&(0,x.jsx)(d.ufi,{className:"w-4 h-4 text-white/60"}),"unknown"===t&&(0,x.jsx)(d.VeH,{className:"w-4 h-4 text-white/60"}),(0,x.jsx)("span",{className:"text-white/80 capitalize",children:t})]}),(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("div",{className:"w-24 h-2 bg-white/10 rounded-full overflow-hidden",children:(0,x.jsx)("div",{className:"h-full bg-cyan-500 rounded-full",style:{width:"".concat(null!==V&&void 0!==V&&V.totalVisitors?s/V.totalVisitors*100:0,"%")}})}),(0,x.jsx)("span",{className:"text-white/60 text-sm w-8 text-right",children:s})]})]},t)}),0===Object.keys((null===V||void 0===V?void 0:V.deviceStats)||{}).length&&(0,x.jsx)("p",{className:"text-white/40 text-center py-4",children:"Aucune donn\xe9e"})]})]}),(0,x.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[(0,x.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,x.jsx)(d.VeH,{className:"w-5 h-5 text-purple-400"}),"Navigateurs"]}),(0,x.jsxs)("div",{className:"space-y-3",children:[Object.entries((null===V||void 0===V?void 0:V.browserStats)||{}).map(e=>{let[t,s]=e;return(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsx)("span",{className:"text-white/80",children:t}),(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("div",{className:"w-24 h-2 bg-white/10 rounded-full overflow-hidden",children:(0,x.jsx)("div",{className:"h-full bg-purple-500 rounded-full",style:{width:"".concat(null!==V&&void 0!==V&&V.totalVisitors?s/V.totalVisitors*100:0,"%")}})}),(0,x.jsx)("span",{className:"text-white/60 text-sm w-8 text-right",children:s})]})]},t)}),0===Object.keys((null===V||void 0===V?void 0:V.browserStats)||{}).length&&(0,x.jsx)("p",{className:"text-white/40 text-center py-4",children:"Aucune donn\xe9e"})]})]})]}),(0,x.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 mb-8",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Pages les Plus Visit\xe9es"}),(0,x.jsxs)("div",{className:"space-y-2",children:[((null===V||void 0===V?void 0:V.topPages)||[]).slice(0,10).map((e,t)=>(0,x.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-white/5 last:border-0",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsxs)("span",{className:"text-white/40 text-sm w-6",children:[t+1,"."]}),(0,x.jsx)("span",{className:"text-white/80",children:e._id||"/"})]}),(0,x.jsxs)("span",{className:"text-cyan-400 font-medium",children:[e.views," vues"]})]},e._id)),(!(null!==V&&void 0!==V&&V.topPages)||0===V.topPages.length)&&(0,x.jsx)("p",{className:"text-white/40 text-center py-4",children:"Aucune donn\xe9e de pages"})]})]}),(0,x.jsxs)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden",children:[(0,x.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,x.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Visiteurs R\xe9cents"})}),0===A.length?(0,x.jsxs)("div",{className:"p-12 text-center text-white/50",children:[(0,x.jsx)(d.cfS,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,x.jsx)("p",{children:"Aucun visiteur enregistr\xe9"})]}):(0,x.jsx)("div",{className:"overflow-x-auto",children:(0,x.jsxs)("table",{className:"w-full",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"text-left text-white/60 text-sm border-b border-white/10",children:[(0,x.jsx)("th",{className:"px-4 py-3",children:"Appareil"}),(0,x.jsx)("th",{className:"px-4 py-3",children:"Navigateur"}),(0,x.jsx)("th",{className:"px-4 py-3",children:"OS"}),(0,x.jsx)("th",{className:"px-4 py-3",children:"Pages Vues"}),(0,x.jsx)("th",{className:"px-4 py-3",children:"Derni\xe8re Activit\xe9"})]})}),(0,x.jsx)("tbody",{children:A.slice(0,20).map(e=>{var t,s,a,i,l,r,n,c;return(0,x.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[(0,x.jsx)("td",{className:"px-4 py-3",children:(0,x.jsxs)("div",{className:"flex items-center gap-2",children:["mobile"===(null===(t=e.device)||void 0===t?void 0:t.type)&&(0,x.jsx)(d.PCV,{className:"w-4 h-4 text-cyan-400"}),"desktop"===(null===(s=e.device)||void 0===s?void 0:s.type)&&(0,x.jsx)(d.ufi,{className:"w-4 h-4 text-purple-400"}),"tablet"===(null===(a=e.device)||void 0===a?void 0:a.type)&&(0,x.jsx)(d.ufi,{className:"w-4 h-4 text-amber-400"}),(!(null!==(i=e.device)&&void 0!==i&&i.type)||"unknown"===(null===(l=e.device)||void 0===l?void 0:l.type))&&(0,x.jsx)(d.VeH,{className:"w-4 h-4 text-gray-400"}),(0,x.jsx)("span",{className:"text-white capitalize",children:(null===(r=e.device)||void 0===r?void 0:r.type)||"unknown"})]})}),(0,x.jsx)("td",{className:"px-4 py-3 text-white/80",children:(null===(n=e.device)||void 0===n?void 0:n.browser)||"unknown"}),(0,x.jsx)("td",{className:"px-4 py-3 text-white/80",children:(null===(c=e.device)||void 0===c?void 0:c.os)||"unknown"}),(0,x.jsx)("td",{className:"px-4 py-3",children:(0,x.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-sm",children:e.pageViews||0})}),(0,x.jsx)("td",{className:"px-4 py-3 text-white/60 text-sm",children:new Date(e.lastActivity).toLocaleString("fr-FR")})]},e._id)})})]})})]})]},"visitors"),"contacts"===z&&(0,x.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Messages de Contact"}),(0,x.jsx)("p",{className:"text-white/60",children:"G\xe9rez les messages re\xe7us via le formulaire de contact"})]}),(0,x.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden",children:0===j.length?(0,x.jsxs)("div",{className:"p-12 text-center text-white/50",children:[(0,x.jsx)(d.pHD,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,x.jsx)("p",{children:"Aucun message de contact"})]}):(0,x.jsx)("div",{className:"divide-y divide-white/10",children:j.map(e=>(0,x.jsx)("div",{className:"p-6 hover:bg-white/5 transition-colors",children:(0,x.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,x.jsx)("h4",{className:"font-semibold text-white",children:e.name}),(0,x.jsx)("span",{className:"px-2 py-0.5 ".concat(H(e.status)," text-white text-xs rounded-full"),children:M(e.status)})]}),(0,x.jsxs)("p",{className:"text-white/60 text-sm mb-2",children:[e.email," \u2022 ",e.phone]}),(0,x.jsx)("p",{className:"text-white/80 text-sm line-clamp-2",children:e.message}),(0,x.jsx)("p",{className:"text-white/40 text-xs mt-2",children:new Date(e.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,x.jsx)("div",{className:"flex gap-2",children:"nouveau"===e.status&&(0,x.jsx)("button",{onClick:()=>(async(e,t)=>{try{await c.A.patch("/contact/".concat(e),{status:t}),G()}catch(s){console.error("Error updating contact:",s)}})(e._id,"traite"),className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors",title:"Marquer comme trait\xe9",children:(0,x.jsx)(d.A3x,{className:"w-5 h-5"})})})]})},e._id))})})]},"contacts"),"devis"===z&&(0,x.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Demandes de Devis"}),(0,x.jsx)("p",{className:"text-white/60",children:"G\xe9rez les demandes de devis re\xe7ues"})]}),(0,x.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden",children:0===N.length?(0,x.jsxs)("div",{className:"p-12 text-center text-white/50",children:[(0,x.jsx)(d.mEP,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,x.jsx)("p",{children:"Aucune demande de devis"})]}):(0,x.jsx)("div",{className:"divide-y divide-white/10",children:N.map(e=>(0,x.jsx)("div",{className:"p-6 hover:bg-white/5 transition-colors",children:(0,x.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,x.jsx)("h4",{className:"font-semibold text-white",children:e.name}),(0,x.jsx)("span",{className:"px-2 py-0.5 ".concat(H(e.status)," text-white text-xs rounded-full"),children:M(e.status)}),"urgent"===e.urgence&&(0,x.jsx)("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs rounded-full",children:"Urgent"})]}),(0,x.jsxs)("p",{className:"text-white/60 text-sm mb-2",children:[e.email," \u2022 ",e.phone," \u2022 ","entreprise"===e.clientType?"Entreprise":"Particulier"]}),(0,x.jsxs)("p",{className:"text-cyan-400 text-sm font-medium mb-1",children:["Service: ",e.service]}),(0,x.jsx)("p",{className:"text-white/80 text-sm line-clamp-2",children:e.description}),(0,x.jsx)("p",{className:"text-white/40 text-xs mt-2",children:new Date(e.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,x.jsx)("div",{className:"flex gap-2",children:("nouveau"===e.status||"en_attente"===e.status)&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{onClick:()=>F(e._id,"accepte"),className:"p-2 bg-green-500/20 text-green-400 rounded-lg hover:bg-green-500/30 transition-colors",title:"Accepter",children:(0,x.jsx)(d.A3x,{className:"w-5 h-5"})}),(0,x.jsx)("button",{onClick:()=>F(e._id,"refuse"),className:"p-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",title:"Refuser",children:(0,x.jsx)(d.yGN,{className:"w-5 h-5"})})]})})]})},e._id))})})]},"devis"),"testimonials"===z&&(0,x.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"T\xe9moignages Clients"}),(0,x.jsx)("p",{className:"text-white/60",children:"G\xe9rez les avis et t\xe9moignages de vos clients"})]}),(0,x.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden",children:0===y.length?(0,x.jsxs)("div",{className:"p-12 text-center text-white/50",children:[(0,x.jsx)(d.usP,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,x.jsx)("p",{children:"Aucun t\xe9moignage"})]}):(0,x.jsx)("div",{className:"divide-y divide-white/10",children:y.map(e=>(0,x.jsx)("div",{className:"p-6 hover:bg-white/5 transition-colors",children:(0,x.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,x.jsx)("h4",{className:"font-semibold text-white",children:e.name}),(0,x.jsx)("div",{className:"flex gap-0.5",children:[...Array(5)].map((t,s)=>(0,x.jsx)(d.usP,{className:"w-4 h-4 ".concat(s<e.rating?"text-amber-400 fill-current":"text-white/20")},s))}),e.verified&&(0,x.jsxs)("span",{className:"px-2 py-0.5 bg-green-500 text-white text-xs rounded-full flex items-center gap-1",children:[(0,x.jsx)(d.A3x,{className:"w-3 h-3"})," V\xe9rifi\xe9"]})]}),(0,x.jsx)("p",{className:"text-white/60 text-sm mb-2",children:e.company||e.service}),(0,x.jsxs)("p",{className:"text-white/80 text-sm line-clamp-3",children:['"',e.comment,'"']})]})})},e._id))})})]},"testimonials")]})})]})}}}]);
//# sourceMappingURL=624.ed69c4a2.chunk.js.map